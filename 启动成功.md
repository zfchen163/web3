# ✅ ChainVault V3 启动成功！

> 所有服务已启动，可以开始使用了！

---

## 🎉 启动状态

### ✅ 服务运行中

| 服务 | 状态 | 地址 |
|------|------|------|
| 🔗 Hardhat 节点 | ✅ 运行中 | http://localhost:8545 |
| 📜 智能合约 | ✅ 已部署 | 0x5FbDB2315678afecb367f032d93F642f64180aa3 |
| 🔧 后端 API | ✅ 运行中 | http://localhost:8080 |
| 🎨 前端应用 | ✅ 运行中 | http://localhost:3000 |

---

## 🔑 测试账户

Hardhat 提供了 20 个测试账户，每个账户有 10000 ETH：

### 主要账户

| 账户 | 地址 | 余额 | 用途 |
|------|------|------|------|
| Account #0 | 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 | 10000 ETH | 管理员 |
| Account #1 | 0x70997970C51812dc3A010C7d01b50e0d17dc79C8 | 10000 ETH | 品牌方 |
| Account #2 | 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC | 10000 ETH | 买家 |

**私钥**（用于导入 MetaMask）：
```
Account #0: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
Account #1: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d
Account #2: 0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a
```

---

## 🚀 立即开始

### 步骤 1：配置 MetaMask

1. 打开 MetaMask
2. 添加网络：
   - 网络名称：Hardhat Local
   - RPC URL：http://127.0.0.1:8545
   - Chain ID：31337
   - 货币符号：ETH

3. 导入账户（使用上面的私钥）

### 步骤 2：打开前端

**访问地址**：http://localhost:3000

### 步骤 3：连接钱包

1. 点击"连接钱包"按钮
2. MetaMask 弹出
3. 选择 Account #0
4. 点击"连接"

### 步骤 4：体验功能

#### 功能 1：注册品牌（使用 Account #1）

```
1. 切换到 Account #1（品牌方）
2. 打开浏览器控制台（F12）
3. 输入以下代码：

const provider = new ethers.BrowserProvider(window.ethereum);
const signer = await provider.getSigner();
const contract = new ethers.Contract(
  "0x5FbDB2315678afecb367f032d93F642f64180aa3",
  ["function registerBrand(string brandName)"],
  signer
);

// 注册品牌（可以是任何名字！）
const tx = await contract.registerBrand("Nike");
await tx.wait();
console.log("品牌注册成功！");
```

#### 功能 2：授权品牌（使用 Account #0）

```
1. 切换到 Account #0（管理员）
2. 在控制台输入：

const tx = await contract.authorizeBrand(
  "0x70997970C51812dc3A010C7d01b50e0d17dc79C8",  // Account #1 的地址
  true
);
await tx.wait();
console.log("品牌授权成功！");
```

#### 功能 3：注册资产（使用 Account #1）

```
1. 切换回 Account #1（品牌方）
2. 点击"➕ 注册资产"标签
3. 填写表单：
   - 资产名称：Nike Air Jordan 1
   - 序列号：NK-AJ1-001
   - 分类：👟 鞋类
   - 品牌：Nike
   - 上传照片（可选）
4. 点击"注册资产"
5. 确认交易
6. 等待成功！
```

---

## 📊 服务详情

### Hardhat 节点

```
地址: http://localhost:8545
Chain ID: 31337
账户数量: 20个
每个账户余额: 10000 ETH
```

### 智能合约

```
合约名称: AssetRegistryV3
合约地址: 0x5FbDB2315678afecb367f032d93F642f64180aa3
管理员: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
平台手续费: 2%
```

### 后端 API

```
地址: http://localhost:8080
可用端点:
- GET  /health              健康检查
- GET  /assets              资产列表
- GET  /brands              品牌列表
- GET  /orders              订单列表
- POST /ipfs/upload/image   上传图片
- GET  /search              搜索资产
```

### 前端应用

```
地址: http://localhost:3000
功能:
- 🛒 市场（浏览在售商品）
- 📦 我的资产（管理自己的资产）
- 📋 我的订单（查看买卖订单）
- ➕ 注册资产（完整的表单，15+字段）
```

---

## 🧪 快速测试流程

### 测试 1：注册品牌（5分钟）

```
使用 Account #1:
1. registerBrand("Nike")
2. 切换到 Account #0
3. authorizeBrand(Account#1地址, true)
4. 完成！
```

### 测试 2：注册资产（5分钟）

```
使用 Account #1（已授权的品牌）:
1. 点击"➕ 注册资产"
2. 填写完整表单
3. 上传照片
4. 点击"注册资产"
5. 完成！
```

### 测试 3：上架和购买（10分钟）

```
卖家（Account #1）:
1. 点击"📦 我的资产"
2. 点击"上架"，输入价格 0.5
3. 确认交易

买家（Account #2）:
1. 切换到 Account #2
2. 点击"🛒 市场"
3. 看到商品，点击"购买"
4. 确认支付 0.5 ETH
5. 购买成功！

卖家发货:
1. 切换回 Account #1
2. 点击"📋 我的订单"
3. 点击"发货"

买家确认:
1. 切换到 Account #2
2. 点击"📋 我的订单"
3. 点击"确认收货"

完成交易:
1. 等待3天（或直接调用合约）
2. 点击"完成交易"
3. 资产所有权转移！
```

---

## 🎨 界面预览

### 主界面

```
┌─────────────────────────────────────────────────────────┐
│  🔐 ChainVault V3 - 资产交易平台                         │
│                                          [连接钱包] 按钮  │
├─────────────────────────────────────────────────────────┤
│  已连接: 0xf39F...9266                  [管理员] 标签    │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│ [🛒 市场] [📦 我的资产] [📋 我的订单] [➕ 注册资产]      │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  搜索: [____________] [搜索] 按钮                        │
└─────────────────────────────────────────────────────────┘

当前显示：市场（暂无商品）
```

### 注册资产界面（全新的完整表单）

```
┌─────────────────────────────────────────────────────────┐
│  ➕ 注册新资产                                           │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  📝 基础信息                                             │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 资产名称 *                                       │   │
│  │ [_________________________________________]      │   │
│  │ 💡 请输入完整的商品名称...                       │   │
│  │                                                   │   │
│  │ 序列号 *                                         │   │
│  │ [_________________________________________]      │   │
│  │ 💡 唯一序列号，可以是商品标签上的编号...         │   │
│  │                                                   │   │
│  │ 商品描述                                         │   │
│  │ [_________________________________________]      │   │
│  └─────────────────────────────────────────────────┘   │
│                                                           │
│  🏷️ 分类信息                                            │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 商品分类 * [选择分类 ▼]                         │   │
│  │ 品牌 * [____] 型号 [____]                       │   │
│  │ 尺码 [____] 颜色 [____]                         │   │
│  │ 商品状态: ⚪ 全新 ⚪ 二手 ⚪ 翻新               │   │
│  └─────────────────────────────────────────────────┘   │
│                                                           │
│  📷 商品照片 *                                           │
│  ┌─────────────────────────────────────────────────┐   │
│  │         [📁 点击上传照片]                        │   │
│  │   支持 JPG、PNG，最多 5 张，每张最大 10MB       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                           │
│  [🔄 重置表单]              [✅ 注册资产]                │
└─────────────────────────────────────────────────────────┘
```

---

## 📞 访问地址

### 🎨 前端应用
**http://localhost:3000**

点击这个链接或在浏览器中打开！

### 🔧 后端 API
**http://localhost:8080/health**

测试后端是否运行正常

### ⛓️ 区块链节点
**http://localhost:8545**

区块链 RPC 地址

---

## 🎯 下一步

1. **打开浏览器**
   ```
   http://localhost:3000
   ```

2. **连接钱包**
   - 点击"连接钱包"
   - 选择 Account #0
   - 确认连接

3. **开始使用**
   - 点击"➕ 注册资产"
   - 体验全新的完整表单！

---

## 💡 提示

### 如果前端显示空白

1. 检查浏览器控制台（F12）
2. 可能需要安装依赖：
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

### 如果后端连接失败

1. 检查 MySQL 是否运行
2. 检查 .env 配置是否正确

### 如果合约调用失败

1. 确保 MetaMask 连接到 Hardhat Local 网络
2. 确保使用了正确的账户
3. 检查账户余额

---

## 🎉 享受使用 ChainVault V3！

**所有服务已启动，现在可以：**

- ✅ 注册品牌（任何品牌名称）
- ✅ 注册资产（完整的15+字段表单）
- ✅ 上传照片（自动上传到 IPFS）
- ✅ 上架销售
- ✅ 购买商品
- ✅ 完整的交易流程

**打开浏览器开始体验吧！** 🚀

http://localhost:3000

---

**启动时间**: 2024-12-19  
**所有服务**: ✅ 运行中  
**项目状态**: ✅ 可以使用

